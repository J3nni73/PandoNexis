{"version":3,"sources":["webpack:///./Scripts/_Addons/CollectionPage/Actions/CollectionPage.action.js","webpack:///./Scripts/_PandoNexis/Components/ConditionalLinkWrapper.js","webpack:///./Scripts/_Addons/CollectionPage/Components/CollectionPageContainer.js"],"names":["loadError","error","dispatch","getState","toggleGenericLoader","type","COLLECTION_PAGE_ERROR","payload","fillCollectionPageStructure","response","COLLECTION_PAGE_LOAD","fileStructure","condition","wrapper","children","collectionPageSystemId","useDispatch","useState","setChildren","setFilter","useSelector","state","collectionPage","useEffect","pageSystemId","get","rootRoute","then","json","catch","ex","catchError","length","filter","className","map","child","index","key","image","button","href","target","Fragment","src","imageUrl","alt","title","width","height","dangerouslySetInnerHTML","__html","introduction","linkText","class"],"mappings":"qSAiBaA,EAAY,SAACC,GAAD,OAAW,SAACC,EAAUC,GAE7C,OADAD,GAASE,QAAoB,IACtBF,EAAS,CACZG,KAAMC,IACRC,QAAS,CACPN,aAKOO,EAA8B,SAACC,GAAD,OAAc,SAACP,EAAUC,GAGjE,OAFAD,GAASE,QAAoB,IAEtBF,EAAS,CACbG,KAAMK,IACRH,QAAS,CACLI,cAAeF,OC5BvB,EAH+B,SAAC,GAAD,IAAGG,EAAH,EAAGA,UAAWC,EAAd,EAAcA,QAASC,EAAvB,EAAuBA,SAAvB,OAC3BF,EAAYC,EAAQC,GAAYA,G,u8BCKpC,IAwEA,EAxEgC,SAAC,GAE3B,IADFC,EACE,EADFA,uBAEMb,GAAWc,UADf,KAE8BC,cAAS,IAFvC,GAEKH,EAFL,KAEeI,EAFf,UAG0BD,cAAS,IAHnC,GAGaE,GAHb,WAKMR,GAAkBS,SACtB,SAACC,GAAD,OAAWA,EAAMC,kBADbX,cA6BR,OApBAY,gBAAU,WFhBuB,IAACC,EEiB1BT,GACAb,GFlB0BsB,EEkBKT,EFlBY,SAACb,EAAUC,GAG9D,OADAD,GAASE,QAAoB,KACtBqB,QAAIC,6DAAuDF,GAC7DG,MAAK,SAAClB,GAAD,OAAcA,EAASmB,UAC5BD,MAAK,SAAClB,GAAD,OAAcP,EAASM,EAA4BC,OACxDoB,OAAM,SAACC,GAAD,OAAQ5B,GAAS6B,OAAWD,GAAI,SAAC7B,GAAD,OAAWD,EAAUC,eEc7D,KAEHsB,gBAAU,WAEFZ,GACIA,EAAcG,UAAYH,EAAcG,SAASkB,OAAS,GAC1Dd,EAAYP,EAAcG,UAG9BH,EAAcsB,QAAUtB,EAAcsB,OAAOD,OAAS,GACtDb,EAAUR,EAAcsB,UAE7B,CAACtB,KACCG,GAAYA,EAASkB,OAItB,uBAAKE,UAAU,4EACVpB,GAAYA,EAASqB,KAAI,SAACC,EAAOC,GAC9B,OACI,uBAAKH,UAAU,0CAA0CI,IAAG,gBAAWD,IACnE,2BAASH,UAAU,0BACf,0BAAQA,UAAU,gCACbE,EAAMG,OACH,gBAAC,EAAD,CACI3B,UAAWwB,EAAMI,QAAUJ,EAAMI,OAAOC,KACxC5B,QAAS,SAAAC,GAAQ,OAAI,qBAAG2B,KAAML,EAAMI,OAAOC,KAAMC,OAAM,UAAKN,EAAMI,OAAOE,OAASN,EAAMI,OAAOE,OAAS,KAAO5B,KAE/G,gBAAC,EAAA6B,SAAD,KAAU,uBAAKC,IAAKR,EAAMG,MAAMM,SAAUC,IAAKV,EAAMG,MAAMQ,MAAOC,MAAOZ,EAAMG,MAAMS,MAAOC,OAAQb,EAAMG,MAAMU,YAI5H,gBAAC,EAAD,CACIrC,UAAWwB,EAAMI,QAAUJ,EAAMI,OAAOC,KACxC5B,QAAS,SAAAC,GAAQ,OAAI,qBAAG2B,KAAML,EAAMI,OAAOC,KAAMC,OAAM,UAAKN,EAAMI,OAAOE,OAASN,EAAMI,OAAOE,OAAS,KAAO5B,KAE/G,2BAASoB,UAAU,+BACf,0BAAME,EAAMW,OACZ,uBAAKG,wBAAyB,CAAEC,OAAQf,EAAMgB,kBAGrDhB,EAAMI,QAAUJ,EAAMI,OAAOC,MAAQL,EAAMI,OAAOa,UAC/C,qBAAGnB,UAAS,qCAAgCE,EAAMI,OAAOc,OAASb,KAAML,EAAMI,OAAOC,KAAMC,OAAM,UAAKN,EAAMI,OAAOE,OAASN,EAAMI,OAAOE,OAAS,KAAON,EAAMI,OAAOa","file":"664.4c7f203e1c018b3d76e5.js","sourcesContent":["import { get, post } from '../../../Services/http';\r\nimport { catchError } from '../../../Actions/Error.action';\r\nimport { toggleGenericLoader } from '../../../_PandoNexis/Actions/GenericLoader.action';\r\n\r\nimport { COLLECTION_PAGE_LOAD, COLLECTION_PAGE_ERROR } from '../constants';\r\n\r\nconst rootRoute = '/api/collectionpage/';\r\n\r\nexport const getCollectionPageData = (pageSystemId) => (dispatch, getState) => {\r\n    let pagenationActive = false;\r\n    dispatch(toggleGenericLoader(true));\r\n    return get(rootRoute + `getGetCollectionPageData?pageSystemId=` + pageSystemId)\r\n        .then((response) => response.json())\r\n        .then((response) => dispatch(fillCollectionPageStructure(response)))\r\n        .catch((ex) => dispatch(catchError(ex, (error) => loadError(error))));\r\n};\r\n\r\nexport const loadError = (error) => (dispatch, getState) => {\r\n  dispatch(toggleGenericLoader(false));\r\n  return dispatch({\r\n      type: COLLECTION_PAGE_ERROR,\r\n    payload: {\r\n      error,\r\n    },\r\n  });\r\n};\r\n\r\nexport const fillCollectionPageStructure = (response) => (dispatch, getState) => {\r\n   dispatch(toggleGenericLoader(false));\r\n   \r\n   return dispatch({\r\n      type: COLLECTION_PAGE_LOAD,\r\n    payload: {\r\n        fileStructure: response,\r\n    },\r\n  });\r\n};\r\n","import React, { Fragment } from 'react';\r\n\r\nconst ConditionalLinkWrapper = ({ condition, wrapper, children }) =>\r\n    condition ? wrapper(children) : children;\r\n\r\nexport default ConditionalLinkWrapper;","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getCollectionPageData } from '../Actions/CollectionPage.action';\r\nimport ConditionalLinkWrapper from '../../../_PandoNexis/Components/ConditionalLinkWrapper';\r\n//import Fuse from 'fuse.js'\r\n//import { translate } from '../../../Services/translation';\r\n//import Search from './Search';\r\n\r\nconst CollectionPageContainer = ({\r\n    collectionPageSystemId,\r\n}) => {\r\n    const dispatch = useDispatch();\r\n    const [children, setChildren] = useState([]);\r\n    const [filter, setFilter] = useState([]);\r\n\r\n    const { fileStructure } = useSelector(\r\n        (state) => state.collectionPage\r\n    );\r\n\r\n    const clearStructure = () => {\r\n        const obj = { folderName: firstFolderName || fileStructure.folderName };\r\n        setCurrentStructure([obj]);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (collectionPageSystemId) {\r\n            dispatch(getCollectionPageData(collectionPageSystemId));\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n\r\n        if (fileStructure) {\r\n            if (fileStructure.children && fileStructure.children.length > 0) {\r\n                setChildren(fileStructure.children);\r\n            }\r\n        }\r\n        if (fileStructure.filter && fileStructure.filter.length > 0) {\r\n            setFilter(fileStructure.filter);\r\n        }\r\n    }, [fileStructure]);\r\n    if (!children || children.length < 0) {\r\n        <div></div>\r\n    }\r\n    return (\r\n        <div className=\"collection-page__data row small-up-2 medium-up-4 large-up-4 align-center\">\r\n            {children && children.map((child, index) => {\r\n                return (\r\n                    <div className=\"column collection-page__child-container\" key={`child-${index}`}>\r\n                        <article className=\"collection-page__child\">\r\n                            <figure className=\"collection-page__child-image\">\r\n                                {child.image && \r\n                                    <ConditionalLinkWrapper\r\n                                        condition={child.button && child.button.href}\r\n                                        wrapper={children => <a href={child.button.href} target={`${child.button.target ? child.button.target : ''}`}>{children}</a>}\r\n                                    >\r\n                                        <Fragment><img src={child.image.imageUrl} alt={child.image.title} width={child.image.width} height={child.image.height} /></Fragment>\r\n                                    </ConditionalLinkWrapper>\r\n                                }\r\n                            </figure>\r\n                            <ConditionalLinkWrapper\r\n                                condition={child.button && child.button.href}\r\n                                wrapper={children => <a href={child.button.href} target={`${child.button.target ? child.button.target : ''}`}>{children}</a>}\r\n                            >\r\n                                <section className=\"collection-page__child-text\">\r\n                                    <h3 >{child.title}</h3>\r\n                                    <div dangerouslySetInnerHTML={{ __html: child.introduction }}></div>\r\n                                </section>\r\n                            </ConditionalLinkWrapper>\r\n                            {child.button && child.button.href && child.button.linkText &&\r\n                                <a className={`collection-page__child-cta ${child.button.class}`} href={child.button.href} target={`${child.button.target ? child.button.target : ''}`}>{child.button.linkText}</a>\r\n                            }\r\n                        </article>\r\n                    </div>\r\n                );\r\n            }\r\n            )}\r\n        </div >\r\n    );\r\n};\r\nexport default CollectionPageContainer;\r\n"],"sourceRoot":""}