{"version":3,"sources":["webpack:///./Scripts/_Addons/CollectionPage/Actions/CollectionPage.action.js","webpack:///./Scripts/_PandoNexis/Components/ConditionalLinkWrapper.js","webpack:///./Scripts/_Addons/CollectionPage/Components/CollectionPageContainer.js"],"names":["loadError","error","dispatch","getState","toggleGenericLoader","type","COLLECTION_PAGE_ERROR","payload","fillCollectionPageStructure","response","COLLECTION_PAGE_LOAD","fileStructure","condition","wrapper","children","collectionPageSystemId","useDispatch","setChildren","useState","filter","setFilter","useSelector","state","collectionPage","useEffect","pageSystemId","get","rootRoute","then","json","catch","ex","catchError","length","className","map","child","index","key","image","button","href","target","Fragment","src","imageUrl","alt","title","width","height","dangerouslySetInnerHTML","__html","introduction","linkText","class"],"mappings":"gLAMA,MAWaA,EAAaC,GAAU,CAACC,EAAUC,KAC7CD,GAASE,QAAoB,IACtBF,EAAS,CACZG,KAAMC,IACRC,QAAS,CACPN,YAKOO,EAA+BC,GAAa,CAACP,EAAUC,KACjED,GAASE,QAAoB,IAEtBF,EAAS,CACbG,KAAMK,IACRH,QAAS,CACLI,cAAeF,MC5BvB,EAH+B,EAAGG,YAAWC,UAASC,cAClDF,EAAYC,EAAQC,GAAYA,EC6EpC,EAxEgC,EAC5BC,6BAEA,MAAMb,GAAWc,WACVF,EAAUG,IAAeC,cAAS,KAClCC,EAAQC,IAAaF,cAAS,KAE/B,cAAEP,IAAkBU,SACrBC,GAAUA,EAAMC,iBA4BrB,OApBAC,gBAAU,KFhBwBC,MEiB1BV,GACAb,GFlB0BuB,EEkBKV,EFlBY,CAACb,EAAUC,KAE9DD,GAASE,QAAoB,KACtBsB,QAAIC,6DAAuDF,GAC7DG,MAAMnB,GAAaA,EAASoB,SAC5BD,MAAMnB,GAAaP,EAASM,EAA4BC,MACxDqB,OAAOC,GAAO7B,GAAS8B,OAAWD,GAAK9B,GAAUD,EAAUC,aEc7D,KAEHuB,gBAAU,KAEFb,GACIA,EAAcG,UAAYH,EAAcG,SAASmB,OAAS,GAC1DhB,EAAYN,EAAcG,UAG9BH,EAAcQ,QAAUR,EAAcQ,OAAOc,OAAS,GACtDb,EAAUT,EAAcQ,UAE7B,CAACR,KACCG,GAAYA,EAASmB,OAItB,uBAAKC,UAAU,4EACVpB,GAAYA,EAASqB,KAAI,CAACC,EAAOC,IAE1B,uBAAKH,UAAU,0CAA0CI,IAAM,SAAQD,KACnE,2BAASH,UAAU,0BACf,0BAAQA,UAAU,gCACbE,EAAMG,OACH,gBAAC,EAAD,CACI3B,UAAWwB,EAAMI,QAAUJ,EAAMI,OAAOC,KACxC5B,QAASC,GAAY,qBAAG2B,KAAML,EAAMI,OAAOC,KAAMC,OAAS,GAAEN,EAAMI,OAAOE,OAASN,EAAMI,OAAOE,OAAS,MAAO5B,IAE/G,gBAAC,EAAA6B,SAAD,KAAU,uBAAKC,IAAKR,EAAMG,MAAMM,SAAUC,IAAKV,EAAMG,MAAMQ,MAAOC,MAAOZ,EAAMG,MAAMS,MAAOC,OAAQb,EAAMG,MAAMU,YAI5H,gBAAC,EAAD,CACIrC,UAAWwB,EAAMI,QAAUJ,EAAMI,OAAOC,KACxC5B,QAASC,GAAY,qBAAG2B,KAAML,EAAMI,OAAOC,KAAMC,OAAS,GAAEN,EAAMI,OAAOE,OAASN,EAAMI,OAAOE,OAAS,MAAO5B,IAE/G,2BAASoB,UAAU,+BACf,0BAAME,EAAMW,OACZ,uBAAKG,wBAAyB,CAAEC,OAAQf,EAAMgB,kBAGrDhB,EAAMI,QAAUJ,EAAMI,OAAOC,MAAQL,EAAMI,OAAOa,UAC/C,qBAAGnB,UAAY,8BAA6BE,EAAMI,OAAOc,QAASb,KAAML,EAAMI,OAAOC,KAAMC,OAAS,GAAEN,EAAMI,OAAOE,OAASN,EAAMI,OAAOE,OAAS,MAAON,EAAMI,OAAOa","file":"664.412cfe65c177e4676b1e.js","sourcesContent":["import { get, post } from '../../../Services/http';\r\nimport { catchError } from '../../../Actions/Error.action';\r\nimport { toggleGenericLoader } from '../../../_PandoNexis/Actions/GenericLoader.action';\r\n\r\nimport { COLLECTION_PAGE_LOAD, COLLECTION_PAGE_ERROR } from '../constants';\r\n\r\nconst rootRoute = '/api/collectionpage/';\r\n\r\nexport const getCollectionPageData = (pageSystemId) => (dispatch, getState) => {\r\n    let pagenationActive = false;\r\n    dispatch(toggleGenericLoader(true));\r\n    return get(rootRoute + `getGetCollectionPageData?pageSystemId=` + pageSystemId)\r\n        .then((response) => response.json())\r\n        .then((response) => dispatch(fillCollectionPageStructure(response)))\r\n        .catch((ex) => dispatch(catchError(ex, (error) => loadError(error))));\r\n};\r\n\r\nexport const loadError = (error) => (dispatch, getState) => {\r\n  dispatch(toggleGenericLoader(false));\r\n  return dispatch({\r\n      type: COLLECTION_PAGE_ERROR,\r\n    payload: {\r\n      error,\r\n    },\r\n  });\r\n};\r\n\r\nexport const fillCollectionPageStructure = (response) => (dispatch, getState) => {\r\n   dispatch(toggleGenericLoader(false));\r\n   \r\n   return dispatch({\r\n      type: COLLECTION_PAGE_LOAD,\r\n    payload: {\r\n        fileStructure: response,\r\n    },\r\n  });\r\n};\r\n","import React, { Fragment } from 'react';\r\n\r\nconst ConditionalLinkWrapper = ({ condition, wrapper, children }) =>\r\n    condition ? wrapper(children) : children;\r\n\r\nexport default ConditionalLinkWrapper;","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getCollectionPageData } from '../Actions/CollectionPage.action';\r\nimport ConditionalLinkWrapper from '../../../_PandoNexis/Components/ConditionalLinkWrapper';\r\n//import Fuse from 'fuse.js'\r\n//import { translate } from '../../../Services/translation';\r\n//import Search from './Search';\r\n\r\nconst CollectionPageContainer = ({\r\n    collectionPageSystemId,\r\n}) => {\r\n    const dispatch = useDispatch();\r\n    const [children, setChildren] = useState([]);\r\n    const [filter, setFilter] = useState([]);\r\n\r\n    const { fileStructure } = useSelector(\r\n        (state) => state.collectionPage\r\n    );\r\n\r\n    const clearStructure = () => {\r\n        const obj = { folderName: firstFolderName || fileStructure.folderName };\r\n        setCurrentStructure([obj]);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (collectionPageSystemId) {\r\n            dispatch(getCollectionPageData(collectionPageSystemId));\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n\r\n        if (fileStructure) {\r\n            if (fileStructure.children && fileStructure.children.length > 0) {\r\n                setChildren(fileStructure.children);\r\n            }\r\n        }\r\n        if (fileStructure.filter && fileStructure.filter.length > 0) {\r\n            setFilter(fileStructure.filter);\r\n        }\r\n    }, [fileStructure]);\r\n    if (!children || children.length < 0) {\r\n        <div></div>\r\n    }\r\n    return (\r\n        <div className=\"collection-page__data row small-up-2 medium-up-4 large-up-4 align-center\">\r\n            {children && children.map((child, index) => {\r\n                return (\r\n                    <div className=\"column collection-page__child-container\" key={`child-${index}`}>\r\n                        <article className=\"collection-page__child\">\r\n                            <figure className=\"collection-page__child-image\">\r\n                                {child.image && \r\n                                    <ConditionalLinkWrapper\r\n                                        condition={child.button && child.button.href}\r\n                                        wrapper={children => <a href={child.button.href} target={`${child.button.target ? child.button.target : ''}`}>{children}</a>}\r\n                                    >\r\n                                        <Fragment><img src={child.image.imageUrl} alt={child.image.title} width={child.image.width} height={child.image.height} /></Fragment>\r\n                                    </ConditionalLinkWrapper>\r\n                                }\r\n                            </figure>\r\n                            <ConditionalLinkWrapper\r\n                                condition={child.button && child.button.href}\r\n                                wrapper={children => <a href={child.button.href} target={`${child.button.target ? child.button.target : ''}`}>{children}</a>}\r\n                            >\r\n                                <section className=\"collection-page__child-text\">\r\n                                    <h3 >{child.title}</h3>\r\n                                    <div dangerouslySetInnerHTML={{ __html: child.introduction }}></div>\r\n                                </section>\r\n                            </ConditionalLinkWrapper>\r\n                            {child.button && child.button.href && child.button.linkText &&\r\n                                <a className={`collection-page__child-cta ${child.button.class}`} href={child.button.href} target={`${child.button.target ? child.button.target : ''}`}>{child.button.linkText}</a>\r\n                            }\r\n                        </article>\r\n                    </div>\r\n                );\r\n            }\r\n            )}\r\n        </div >\r\n    );\r\n};\r\nexport default CollectionPageContainer;\r\n"],"sourceRoot":""}