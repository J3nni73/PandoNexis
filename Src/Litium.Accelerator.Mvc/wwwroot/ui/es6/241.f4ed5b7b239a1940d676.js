(self.webpackChunk=self.webpackChunk||[]).push([[241],{9241:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(7378),n=r(2428),c=r(5688),s=r(4336),u=r(8997),i=r(8036);const l=({label:e,articleNumber:t,quantityFieldId:r,href:n,cssClass:c,onClick:s})=>a.createElement(a.Fragment,null,t?a.createElement("a",{className:c,onClick:e=>{e.preventDefault(),s({articleNumber:t,quantityFieldId:r})},href:n||"#",rel:"nofollow"},e):a.createElement("a",{className:c,href:n||"#",rel:"nofollow"},e)),o=e=>{const t=(0,i.I0)(),r=(0,c.Z)(l,(async({articleNumber:e,quantityFieldId:r})=>{try{const a=r?document.getElementById(r).value:1,c=await(0,n.I)({articleNumber:e,quantity:a});return t((0,s.pT)(c)),!0}catch(e){return t((0,u.K)(e,(e=>(0,s.Lx)(e)))),!1}}),"buy-button");return a.createElement(r,e)}},5688:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(7378);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}const c="--loading",s="--success",u="--error";function i(e,t,r){return i=>{const[l,o]=(0,a.useState)(""),m=(0,a.useRef)(0);(0,a.useEffect)((()=>()=>{o("")}),[]);const d=e=>{o(`${r}${e?s:u}`),!1!==i.autoReset&&setTimeout((()=>{o(""),m.current=0}),i.resetTimeout||2e3)};async function f(e){o(`${r}${c}`),m.current=Date.now();!function(e){const t=Date.now()-m.current,r=i.minimumLoadingTime||1e3;t>=r?d(e):setTimeout((()=>{d(e)}),r-t)}(await t(e))}return a.createElement("span",{className:l},a.createElement(e,n({onClick:e=>f(e)},i)))}}},2428:(e,t,r)=>{"use strict";r.d(t,{I:()=>n,H:()=>c});var a=r(5319);const n=async({articleNumber:e,quantity:t=1})=>{if(!t||isNaN(t)||parseFloat(t)<=0)throw"Invalid quantity";return(await(0,a.v_)("/api/cart/add",{articleNumber:e,quantity:parseFloat(t)})).json()},c=async e=>(await(0,a.v_)("/api/cart/reorder",{orderId:e})).json()}}]);
//# sourceMappingURL=241.f4ed5b7b239a1940d676.js.map